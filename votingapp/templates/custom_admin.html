{% extends "base.html" %}
{% block title %}Admin Page{% endblock %}
{% block content %}
<br>

<h1 class="display-10 d-flex justify-content-center">
  Admin Page
</h1>

<hr class="my-5 bg-dark d-flex justify-content-center" style="height: 2px" />

<h2>Candidates</h2>
<table class="table">
  <thead>
    <tr>
      <th>Name</th>
      <th>Position</th>
      <th>Total Votes</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for candidate in candidates %}
    <tr>
      <td>{{ candidate.name }}</td>
      <td>{{ candidate.position.title }}</td>
      <td>{{ candidate.total_vote }}</td>
      <td>
        <a href="{% url 'edit_candidate' candidate.id %}" class="btn btn-secondary">Edit</a>
        <a href="{% url 'delete_candidate' candidate.id %}" class="btn btn-danger">Delete</a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>

<h2>Users</h2>
<table class="table">
  <thead>
    <tr>
      <th>Username</th>
      <th>First Name</th>
      <th>Last Name</th>
      <th>Email</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for user in users %}
    <tr>
      <td>{{ user.username }}</td>
      <td>{{ user.first_name }}</td>
      <td>{{ user.last_name }}</td>
      <td>{{ user.email }}</td>
      <td>
        <a href="{% url 'delete_user' user.id %}" class="btn btn-danger">Delete</a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>

{% endblock %}
